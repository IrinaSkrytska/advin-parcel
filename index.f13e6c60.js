const t=/android/i.test(navigator.userAgent),e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,n=/Safari\//.test(navigator.userAgent),o=/firefox/i.test(navigator.userAgent),i=/OculusBrowser/.test(navigator.userAgent),s=e&&/CriOS\//.test(navigator.userAgent),r=e&&n,a=t&&!o&&!i,l=((()=>{const t=document.createElement("a");t.relList&&t.relList.supports&&t.relList.supports("ar")})(),(t,e,n)=>{const o=document.createElement("a");e&&(e=!0,o.appendChild(document.createElement("img")),o.rel="ar"),o.setAttribute("href",t),o.click(),o.addEventListener("message",(t=>{n.dispatchEvent(new CustomEvent("quick-look-button-tapped"))}))}),u=(t,n,o)=>{if(console.log(n),s||r){n.setAttribute("ar","quick-look"),n.dispatchEvent(new CustomEvent("initialized",{detail:"quick-look"}));fetch(`https://advin-mjao.onrender.com/api/gu${"ess"}/${"armodels"}/${o}`,{cache:"no-store"}).then((t=>t.json())).then((({data:t})=>{const e=t.model.ios;let o=`${e}#custom=https://lustrous-medovik-40e333.netlify.app/witness.html`;console.log(o),l(o,n,!0),e||console.error("Invalid ios-src in <ar-button>: "+n)}))}else if(a){n.setAttribute("ar","scene-viewer"),n.dispatchEvent(new CustomEvent("initialized",{detail:"scene-viewer"}));fetch(`https://advin-mjao.onrender.com/${"api/"}gu${"ess/"}${"armodels"}/${o}`,{cache:"no-store"}).then((t=>t.json())).then((({data:t})=>{const e=t.model.android;console.log(e);let o=null;o=`intent://arvr.google.com/scene-viewer/1.0?file=${e}&mode=ar_only&resizable=false&disable_occlusion=true&`,e?(o+="#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;",o+="end;",l(o)):console.error("Invalid src in <ar-button>: "+n)}))}else!e||r||s||(console.log("it`s a desktop"),n.setAttribute("ar","unsupported_ios"),n.dispatchEvent(new CustomEvent("initialized",{detail:"unsupported_ios"})),null!=n.getAttribute("show-if-unsupported")?n.addEventListener("click",(()=>{const t=n.getAttribute("fallback-url");t&&l(encodeURIComponent(t))})):!e||r||s?!e||r||s?(n.setAttribute("ar","unsupported"),n.dispatchEvent(new CustomEvent("initialized",{detail:"unsupported"})),null!=n.getAttribute("show-if-unsupported")?n.addEventListener("click",(()=>{const t=n.getAttribute("fallback-url");t&&l(encodeURIComponent(t))})):n.style.display="none"):(n.setAttribute("ar","unsupported_ios"),n.dispatchEvent(new CustomEvent("initialized",{detail:"unsupported_ios"})),null!=n.getAttribute("show-if-unsupported")?n.addEventListener("click",(()=>{const t=n.getAttribute("fallback-url");t&&l(encodeURIComponent(t))})):n.style.display="none"):(n.setAttribute("ar","unsupported_ios"),n.dispatchEvent(new CustomEvent("initialized",{detail:"unsupported_ios"})),null!=n.getAttribute("show-if-unsupported")?n.addEventListener("click",(()=>{const t=n.getAttribute("fallback-url");t&&l(encodeURIComponent(t))})):n.style.display="none"))},d=document.querySelectorAll("ar-button");for(let t=0;t<d.length;t++){const e=d.item(t),n=String(e.getAttribute("data-id"));console.log(n),e.addEventListener("click",(t=>u(0,e,n)))}
//# sourceMappingURL=index.f13e6c60.js.map
